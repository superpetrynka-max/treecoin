<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>–î–µ—Ä–µ–≤–∞ + –ú–∞–≥–∞–∑–∏–Ω</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial, sans-serif; background: #f0f0f0; margin: 0; padding: 20px; text-align: center; }
  .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; max-width: 600px; margin: 20px auto; }
  .tree { background: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); font-size: 18px; }
  .tree span { font-size: 28px; }
  .timer-trc, .shop { 
    font-size: 20px; 
    margin: 10px auto; 
    padding: 10px 20px; 
    border-radius: 10px; 
    background: #333; 
    color: #fff; 
    max-width: 400px;
  }
  .shop button { padding: 10px 15px; border-radius: 5px; border: none; background: #ffcc00; font-weight: bold; cursor: pointer; }
  .shop button:hover { background: #e6b800; }
  @media (max-width: 600px) { .tree { font-size: 16px; } .tree span { font-size: 24px; } }
</style>
</head>
<body>

<h1>–ú–æ—ó –¥–µ—Ä–µ–≤–∞</h1>
<div class="grid" id="treeGrid"></div>

<div id="timer" class="timer-trc">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞–π–º–µ—Ä–∞...</div>
<div id="trc" class="timer-trc">TRC: 0.000</div>

<div class="shop">
  <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
  <button id="freeChest">üéÅ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ —Å–∫—Ä–∏–Ω—å–∫–∞ (—Ä–∞–∑ –Ω–∞ –¥–µ–Ω—å)</button>
</div>

<script>
// –î–∞–Ω—ñ –¥–µ—Ä–µ–≤ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —á–∞—Ç—É: –Ω–∞–∑–≤–∞ + —Ä—ñ–¥–∫—ñ—Å—Ç—å + –µ–º–æ–¥–∂—ñ + TRC/–≥–æ–¥
const treeTypes = [
    { name: '–î—É–±', rarity: '–ó–≤–∏—á–∞–π–Ω–µ', emoji: 'üå≥', rate: 1 },
    { name: '–Ø–ª–∏–Ω–∞', rarity: '–†—ñ–¥–∫—ñ—Å–Ω–µ', emoji: 'üéÑ', rate: 2 },
    { name: '–°–∞–∫—É—Ä–∞', rarity: '–ï–ø—ñ—á–Ω–µ', emoji: 'üå∏', rate: 5 },
    { name: '–ë–∞–æ–±–∞–±', rarity: '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–µ', emoji: 'üå¥', rate: 10 }
];

// –ì–µ–Ω–µ—Ä—É—î–º–æ 9 –¥–µ—Ä–µ–≤ —É —Å—ñ—Ç—Ü—ñ 3x3 –≤–∏–ø–∞–¥–∫–æ–≤–æ
const trees = [];
const grid = document.getElementById('treeGrid');

for (let i = 0; i < 9; i++) {
    const type = treeTypes[Math.floor(Math.random() * treeTypes.length)];
    const treeDiv = document.createElement('div');
    treeDiv.className = 'tree';
    treeDiv.innerHTML = `<span>${type.emoji}</span><br>${type.rarity} ${type.name}<br>TRC: <span class="trc-count">0.000</span>`;
    grid.appendChild(treeDiv);
    trees.push({ element: treeDiv.querySelector('.trc-count'), trc: 0, rate: type.rate });
}

// –¢–∞–π–º–µ—Ä –¥–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—ó —Å–∫—Ä–∏–Ω—å–∫–∏ –æ 12:00
function updateTimer() {
    const now = new Date();
    let nextNoon = new Date();
    nextNoon.setHours(12, 0, 0, 0);
    if (now >= nextNoon) nextNoon.setDate(nextNoon.getDate() + 1);

    const diff = nextNoon - now;
    const hours = Math.floor(diff / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

    document.getElementById('timer').textContent =
        `–î–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—ó —Å–∫—Ä–∏–Ω—å–∫–∏ –∑–∞–ª–∏—à–∏–ª–æ—Å—å: ${hours}–≥ ${minutes}—Ö–≤ ${seconds}—Å`;
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è TRC —â–æ—Å–µ–∫—É–Ω–¥–∏
function updateTRC() {
    trees.forEach(tree => {
        tree.trc += tree.rate / 3600;
        tree.element.textContent = tree.trc.toFixed(3);
    });
}

// –ó–∞–≥–∞–ª—å–Ω–∏–π TRC
function updateTotalTRC() {
    const total = trees.reduce((sum, tree) => sum + tree.trc, 0);
    document.getElementById('trc').textContent = `TRC: ${total.toFixed(3)}`;
}

// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É
setInterval(() => { updateTimer(); updateTRC(); updateTotalTRC(); }, 1000);
updateTimer();
updateTRC();
updateTotalTRC();

// –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ —Å–∫—Ä–∏–Ω—å–∫–∞ (—Ä–∞–∑ –Ω–∞ –¥–µ–Ω—å)
const freeChestBtn = document.getElementById('freeChest');
let lastClaimDate = null;

freeChestBtn.addEventListener('click', () => {
    const today = new Date().toDateString();
    if (lastClaimDate === today) {
        alert('–°–∫—Ä–∏–Ω—å–∫—É –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ª–∏—à–µ —Ä–∞–∑ –Ω–∞ –¥–µ–Ω—å!');
        return;
    }
    lastClaimDate = today;

    // –í–∏–¥–∞—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å TRC –∑–∞ —Å–∫—Ä–∏–Ω—å–∫—É
    const reward = Math.floor(Math.random() * 20) + 5; // 5-24 TRC
    trees.forEach(tree => tree.trc += reward / trees.length);
    updateTotalTRC();
    alert(`–í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ —Å–∫—Ä–∏–Ω—å–∫—É! TRC +${reward}`);
});
</script>

</body>
</html>
